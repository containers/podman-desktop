"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9817],{52965:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>l,contentTitle:()=>t,default:()=>p,frontMatter:()=>r,metadata:()=>d,toc:()=>c});var s=o(24246),i=o(71670);const r={sidebar_position:4,title:"Linux",description:"Using Podman Desktop behind a proxy on Linux.",tags:["podman-desktop","proxy","linux"],keywords:["podman desktop","containers","podman","proxy","linux"]},t="Using Podman Desktop behind a proxy on Linux",d={id:"proxy/using-a-proxy-on-linux",title:"Linux",description:"Using Podman Desktop behind a proxy on Linux.",source:"@site/docs/proxy/using-a-proxy-on-linux.md",sourceDirName:"proxy",slug:"/proxy/using-a-proxy-on-linux",permalink:"/docs/proxy/using-a-proxy-on-linux",draft:!1,unlisted:!1,editUrl:"https://github.com/containers/podman-desktop/tree/main/website/docs/proxy/using-a-proxy-on-linux.md",tags:[{label:"podman-desktop",permalink:"/docs/tags/podman-desktop"},{label:"proxy",permalink:"/docs/tags/proxy"},{label:"linux",permalink:"/docs/tags/linux"}],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"Linux",description:"Using Podman Desktop behind a proxy on Linux.",tags:["podman-desktop","proxy","linux"],keywords:["podman desktop","containers","podman","proxy","linux"]},sidebar:"mySidebar",previous:{title:"In your containers",permalink:"/docs/proxy/using-a-proxy-in-your-containers"},next:{title:"Podman behind a VPN on Windows",permalink:"/docs/proxy/using-a-vpn-on-windows"}},l={},c=[{value:"Prerequisites",id:"prerequisites",level:4},{value:"Procedure",id:"procedure",level:4},{value:"Verification",id:"verification",level:4}];function a(n){const e={code:"code",h1:"h1",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"using-podman-desktop-behind-a-proxy-on-linux",children:"Using Podman Desktop behind a proxy on Linux"}),"\n",(0,s.jsx)(e.p,{children:"You can configure Podman to run behind a proxy."}),"\n",(0,s.jsx)(e.h4,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"<proxy_ca.pem>"}),": Your proxy Certificate Authorities (CA), in Privacy-Enhanced Mail (PEM) format."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"<your.proxy.tld:port>"}),": Your proxy URL."]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"procedure",children:"Procedure"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Edit the ",(0,s.jsx)(e.code,{children:"containers.conf"})," file to pass the proxy environment variables to Podman CLI."]}),"\n",(0,s.jsx)(e.p,{children:"The file location depends on your connection mode:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"rootless"}),": ",(0,s.jsx)(e.code,{children:"$HOME/.config/containers/containers.conf"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"rootful"}),": ",(0,s.jsx)(e.code,{children:"/etc/containers/containers.conf"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Set the proxy environment variables to pass into the containers:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-toml",children:'[containers]\nhttp_proxy = true\nenv = ["http_proxy=<your.proxy.tld:port>", "https_proxy=<your.proxy.tld:port>"]\n'})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Set the proxy environment variables to pass into the Podman engine:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-toml",children:'[engine]\nenv = ["http_proxy=<your.proxy.tld:port>", "https_proxy=<your.proxy.tld:port>"]\n'})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Add the custom Certificate Authorities (CA) for your proxy:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell-session",children:"$ sudo cp <proxy_ca.pem> /etc/pki/ca-trust/source/anchors/\n$ sudo update-ca-trust\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Restart all ",(0,s.jsx)(e.code,{children:"podman"})," processes."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell-session",children:"$ pkill podman\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Restart Podman Desktop: ",(0,s.jsx)("kbd",{children:"Ctrl"})," + ",(0,s.jsx)("kbd",{children:"q"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"verification",children:"Verification"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["Go to ",(0,s.jsx)(e.strong,{children:"Images"}),"."]}),"\n",(0,s.jsxs)(e.li,{children:["Click ",(0,s.jsx)(e.strong,{children:"Pull an image"}),"."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Image to Pull"}),": ",(0,s.jsx)(e.code,{children:"bash"})]}),"\n",(0,s.jsxs)(e.li,{children:["Click ",(0,s.jsx)(e.strong,{children:"Pull image"}),"."]}),"\n",(0,s.jsxs)(e.li,{children:["Podman Desktop reports ",(0,s.jsx)(e.code,{children:"Download complete"}),"."]}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}},71670:(n,e,o)=>{o.d(e,{Z:()=>d,a:()=>t});var s=o(27378);const i={},r=s.createContext(i);function t(n){const e=s.useContext(r);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);