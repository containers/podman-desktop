import{T as $,U as tt,V as et,n as rt,W as nt,X as x,Y as u,Z as k,_ as O,$ as v,l as m,v as N,p as Y,F,k as l,f as d,r as b,a as c,w as D,c as ot,b as q,t as st,a0 as it,a1 as at,a2 as ct,a3 as ut}from"./props-DJD-XV72.js";import{O as lt}from"./index-D-8MO0q_.js";import{e as dt,s as M}from"./index-DxKRhftL.js";function yt(e,t,...r){var n=e,s=rt,o;$(()=>{s!==(s=t())&&(o&&(nt(o),o=null),o=et(()=>s(n,...r)))},tt)}const ft=e=>e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(""),mt=e=>lt(e.replace(/([A-Z])/g," $1").trim()),X=e=>ft(mt(e)),T="storybook-stories-extractor-context";function K(e){let t=u(e.isExtracting),r=u(e.register);return{get isExtracting(){return t},get register(){return r}}}function gt(e){const{stories:t}=e,r=K({isExtracting:!0,register:n=>{t.set(n.exportName??X(n.name),n)}});x(T,r)}function pt(){return k(T)||x(T,K({isExtracting:!1,register:()=>{}})),O(T)}const P="storybook-story-renderer-context";function _t(e){let t=v(u(e.currentStoryExportName)),r=v(u(e.args)),n=v(u(e.storyContext));function s(o){N(t,u(o.currentStoryExportName)),N(r,u(o.args)),N(n,u(o.storyContext))}return{get args(){return m(r)},get storyContext(){return m(n)},get currentStoryExportName(){return m(t)},set:s}}function xt(){const e=_t({currentStoryExportName:void 0,args:{},storyContext:{}});x(P,e)}function j(){return k(P)||xt(),O(P)}const g="storybook-stories-template-snippet-context";function G(){let e=v(void 0);function t(r){N(e,u(r))}return{get template(){return m(e)},set:t}}function Et(){return k(g)||x(g,G()),O(g).template}function Kt(e){k(g)||x(g,G()),O(g).set(e)}var Ct=st('<p>No story rendered. See <a href="https://github.com/storybookjs/addon-svelte-csf#defining-stories" target="_blank">the docs</a> on how to define stories.</p>');function L(e,t){Y(t,!0);const r=it(t,["$$slots","$$events","$$legacy","children","name","exportName","play"]),n=t.exportName??X(t.name),s=pt(),o=j(),i=Et(),a=at(()=>!s.isExtracting&&o.currentStoryExportName===n);s.isExtracting&&s.register({children:t.children,name:t.name,exportName:n,play:t.play,...r});function y(C,p){p&&C.playFunction&&(C.playFunction.__play=p)}F(()=>{m(a)&&y(o.storyContext,t.play)});var f=l(),E=d(f);b(E,()=>m(a),C=>{var p=l(),J=d(p);b(J,()=>t.children,w=>{var _=l(),R=d(_);yt(R,()=>t.children,()=>o.args,()=>o.storyContext),c(w,_)},w=>{var _=l(),R=d(_);b(R,()=>i,A=>{i(A,()=>o.args,()=>o.storyContext)},A=>{var I=l(),z=d(I);b(z,()=>o.storyContext.component,h=>{var S=l(),H=d(S);D(H,()=>o.storyContext.component,(Q,V)=>{V(Q,ot(()=>o.args))}),c(h,S)},h=>{var S=Ct();c(h,S)},!0),c(A,I)},!0),c(w,_)}),c(C,p)}),c(e,f),q()}L.__docgen={data:[],name:"Story.svelte"};function jt(e){return{Story:L,meta:e}}function U(e,t){Y(t,!0),gt(t.repository());var r=l(),n=d(r);D(n,()=>t.Stories,(s,o)=>{o(s,{})}),c(e,r),q()}U.__docgen={data:[{name:"Stories",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"repository",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"function",text:"() => StoriesRepository<Cmp>"},static:!1,readonly:!1}],name:"StoriesExtractor.svelte"};function St(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}function bt(e){return Object.is(e,-0)?"-0":e.toString()}const vt=/^[\w.]+$/g,Nt=/\\(\\)?/g,Tt=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function kt(e){if(vt.test(e))return e.split(".");const t=[];e[0]==="."&&t.push("");const r=e.matchAll(Tt);for(const n of r){let s=n[0];const o=n[1],i=n[2],a=n[3];i?s=a.replace(Nt,"$1"):o&&(s=o),t.push(s)}return t}function W(e,t,r){if(e==null)return r;switch(typeof t){case"string":{const n=e[t];return n===void 0?St(t)?W(e,kt(t),r):r:n}case"number":case"symbol":{typeof t=="number"&&(t=bt(t));const n=e[t];return n===void 0?r:n}default:{if(Array.isArray(t))return Ot(e,t,r);Object.is(t==null?void 0:t.valueOf(),-0)?t="-0":t=String(t);const n=e[t];return n===void 0?r:n}}}function Ot(e,t,r){if(t.length===0)return r;let n=e;for(let s=0;s<t.length;s++){if(n==null)return r;n=n[t[s]]}return n===void 0?r:n}const{addons:wt}=__STORYBOOK_MODULE_PREVIEW_API__,Rt=wt.getChannel(),At=e=>{const{storyContext:t}=e;if(ht(t))return;const r=Ft({code:t.parameters.__svelteCsf.rawCode,args:e.args});setTimeout(()=>{Rt.emit(dt,{id:t.id,args:t.unmappedArgs,source:r})})},ht=e=>{var s;const t=(s=e==null?void 0:e.parameters.docs)==null?void 0:s.source,r=e==null?void 0:e.parameters.__isArgsStory;return(e==null?void 0:e.parameters.__svelteCsf.rawCode)?(t==null?void 0:t.type)===M.DYNAMIC?!1:!r||(t==null?void 0:t.code)||(t==null?void 0:t.type)===M.CODE:!0},Ft=({code:e,args:t})=>{const r=Object.entries(t??{}).map(([o,i])=>Yt(o,i)).filter(o=>o);let n=r.join(" ");return n.length>50&&(n=`
  ${r.join(`
  `)}
`),e.replaceAll("{...args}",n).replace(/args(?:[\w\d_$\.\?\[\]"'])+/g,o=>{const i=o.replaceAll("?",""),a=W({args:t},i);return B(a)})},Pt=e=>{var r;const t=((r=e.getMockName)==null?void 0:r.call(e))??e.name;return t&&t!=="spy"?t:"() => {}"},B=e=>{var t;return typeof e=="object"&&e[Symbol.for("svelte.snippet")]?"snippet":typeof e=="function"?Pt(e):(t=JSON.stringify(e,null,1))==null?void 0:t.replace(/\n/g,"").replace(new RegExp("(?<!\\s)([}\\]])$")," $1")},Yt=(e,t)=>{if(t==null)return null;if(t===!0)return e;const r=B(t);return typeof t=="string"?`${e}=${r}`:`${e}={${r}}`};function Z(e,t){Y(t,!0);const r=j();F(()=>{r.set({currentStoryExportName:t.exportName,args:t.args,storyContext:t.storyContext})}),F(()=>{At({args:t.args,storyContext:t.storyContext})});var n=l(),s=d(n);D(s,()=>t.Stories,(o,i)=>{i(o,{})}),c(e,n),q()}Z.__docgen={data:[{name:"Stories",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"exportName",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"args",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"storyContext",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1}],name:"StoryRenderer.svelte"};const{logger:Dt}=__STORYBOOK_MODULE_CLIENT_LOGGER__,qt=document.createDocumentFragment?()=>document.createDocumentFragment():()=>document.createElement("div"),Gt=(e,t)=>{const r={stories:new Map};try{const s=ct(U,{target:qt(),props:{Stories:e,repository:()=>r}});ut(s)}catch(s){Dt.error(`Error in mounting stories ${s.toString()}`,s)}const n={};for(const[s,o]of r.stories){const i={...o,render:(y,f)=>({Component:Z,props:{exportName:s,Stories:e,storyContext:f,args:y}})},a=t.play??o.play;a&&(i.play=y=>{var E;const f=(E=y.playFunction)==null?void 0:E.__play;return f?f(y):a(y)}),n[s]=i}return n};export{yt as a,Gt as c,jt as d,Kt as s};
