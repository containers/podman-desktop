import{T as ie,U as ae,V as ce,n as le,W as ue,X as S,Y as l,Z as w,_ as A,$ as T,l as _,v as O,p as D,F,k as u,f,r as k,a as c,b as Y,a0 as fe,a1 as ye,x as I,c as de,t as me,a2 as ge,a3 as pe}from"./props-CgX5WNIy.js";import{O as xe}from"./index-D-8MO0q_.js";import{y as _e,g as j}from"./index-DPS9-N-h.js";function Ce(t,e,...r){var n=t,s=le,o;ie(()=>{s!==(s=e())&&(o&&(ue(o),o=null),o=ce(()=>s(n,...r)))},ae)}const Ee=t=>t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),ve=t=>xe(t.replace(/([A-Z])/g," $1").trim()),K=t=>Ee(ve(t)),h="storybook-stories-extractor-context";function L(t){let e=l(t.isExtracting),r=l(t.register);return{get isExtracting(){return e},get register(){return r}}}function Se(t){const{stories:e}=t,r=L({isExtracting:!0,register:n=>{e.set(n.exportName??K(n.name),n)}});S(h,r)}function be(){return w(h)||S(h,L({isExtracting:!1,register:()=>{}})),A(h)}const q="storybook-story-renderer-context";function Ne(t){let e=T(l(t.currentStoryExportName)),r=T(l(t.args)),n=T(l(t.storyContext));function s(o){O(e,l(o.currentStoryExportName)),O(r,l(o.args)),O(n,l(o.storyContext))}return{get args(){return _(r)},get storyContext(){return _(n)},get currentStoryExportName(){return _(e)},set:s}}function ke(){const t=Ne({currentStoryExportName:void 0,args:{},storyContext:{}});S(q,t)}function P(){return w(q)||ke(),A(q)}const C="storybook-stories-template-snippet-context";function U(){let t=T(void 0);function e(r){O(t,l(r))}return{get template(){return _(t)},set:e}}function Te(){return w(C)||S(C,U()),A(C).template}function We(t){w(C)||S(C,U()),A(C).set(t)}var Oe=me('<p>No story rendered. See <a href="https://github.com/storybookjs/addon-svelte-csf#defining-stories" target="_blank">the docs</a> on how to define stories.</p>');function X(t,e){D(e,!0);const r=fe(e,["$$slots","$$events","$$legacy","children","name","exportName","play"]),n=e.exportName??K(e.name),s=be(),o=P(),a=Te(),i=ye(()=>!s.isExtracting&&o.currentStoryExportName===n);s.isExtracting&&s.register({children:e.children,name:e.name,exportName:n,play:e.play,...r});function y(m,E){E&&m.playFunction&&(m.playFunction.__play=E)}F(()=>{_(i)&&y(o.storyContext,e.play)});var d=u(),b=f(d);{var J=m=>{var E=u(),z=f(E);{var H=g=>{var v=u(),R=f(v);Ce(R,()=>e.children,()=>o.args,()=>o.storyContext),c(g,v)},Q=g=>{var v=u(),R=f(v);{var V=p=>{a(p,()=>o.args,()=>o.storyContext)},$=p=>{var M=u(),ee=f(M);{var te=x=>{var N=u(),ne=f(N);I(ne,()=>o.storyContext.component,(se,oe)=>{oe(se,de(()=>o.args))}),c(x,N)},re=x=>{var N=Oe();c(x,N)};k(ee,x=>{o.storyContext.component?x(te):x(re,!1)},!0)}c(p,M)};k(R,p=>{a?p(V):p($,!1)},!0)}c(g,v)};k(z,g=>{e.children?g(H):g(Q,!1)})}c(m,E)};k(b,m=>{_(i)&&m(J)})}c(t,d),Y()}X.__docgen={data:[],name:"Story.svelte"};function Be(t){return{Story:X,meta:t}}function W(t,e){D(e,!0),Se(e.repository());var r=u(),n=f(r);I(n,()=>e.Stories,(s,o)=>{o(s,{})}),c(t,r),Y()}W.__docgen={data:[{name:"Stories",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"repository",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"function",text:"() => StoriesRepository<Cmp>"},static:!1,readonly:!1}],name:"StoriesExtractor.svelte"};function he(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}function we(t){return Object.is(t,-0)?"-0":t.toString()}function Ae(t){const e=[],r=t.length;if(r===0)return e;let n=0,s="",o="",a=!1;for(t.charCodeAt(0)===46&&(e.push(""),n++);n<r;){const i=t[n];o?i==="\\"&&n+1<r?(n++,s+=t[n]):i===o?o="":s+=i:a?i==='"'||i==="'"?o=i:i==="]"?(a=!1,e.push(s),s=""):s+=i:i==="["?(a=!0,s&&(e.push(s),s="")):i==="."?s&&(e.push(s),s=""):s+=i,n++}return s&&e.push(s),e}function B(t,e,r){if(t==null)return r;switch(typeof e){case"string":{const n=t[e];return n===void 0?he(e)?B(t,Ae(e),r):r:n}case"number":case"symbol":{typeof e=="number"&&(e=we(e));const n=t[e];return n===void 0?r:n}default:{if(Array.isArray(e))return Re(t,e,r);Object.is(e==null?void 0:e.valueOf(),-0)?e="-0":e=String(e);const n=t[e];return n===void 0?r:n}}}function Re(t,e,r){if(e.length===0)return r;let n=t;for(let s=0;s<e.length;s++){if(n==null)return r;n=n[e[s]]}return n===void 0?r:n}const{addons:Fe}=__STORYBOOK_MODULE_PREVIEW_API__,qe=Fe.getChannel(),De=t=>{const{storyContext:e}=t;if(Ye(e))return;const r=Ie({code:e.parameters.__svelteCsf.rawCode,args:t.args});setTimeout(()=>{qe.emit(_e,{id:e.id,args:e.unmappedArgs,source:r})})},Ye=t=>{var s;const e=(s=t==null?void 0:t.parameters.docs)==null?void 0:s.source,r=t==null?void 0:t.parameters.__isArgsStory;return(t==null?void 0:t.parameters.__svelteCsf.rawCode)?(e==null?void 0:e.type)===j.DYNAMIC?!1:!r||(e==null?void 0:e.code)||(e==null?void 0:e.type)===j.CODE:!0},Ie=({code:t,args:e})=>{const r=Object.entries(e??{}).map(([o,a])=>je(o,a)).filter(o=>o);let n=r.join(" ");return n.length>50&&(n=`
  ${r.join(`
  `)}
`),t.replaceAll("{...args}",n).replace(/args(?:[\w\d_$\.\?\[\]"'])+/g,o=>{const a=o.replaceAll("?",""),i=B({args:e},a);return G(i)})},Me=t=>{var r;const e=((r=t.getMockName)==null?void 0:r.call(t))??t.name;return e&&e!=="spy"?e:"() => {}"},G=t=>{var e;return typeof t=="object"&&t[Symbol.for("svelte.snippet")]?"snippet":typeof t=="function"?Me(t):(e=JSON.stringify(t,null,1))==null?void 0:e.replace(/\n/g,"").replace(new RegExp("(?<!\\s)([}\\]])$")," $1")},je=(t,e)=>{if(e==null)return null;if(e===!0)return t;const r=G(e);return typeof e=="string"?`${t}=${r}`:`${t}={${r}}`};function Z(t,e){D(e,!0);const r=P();F(()=>{r.set({currentStoryExportName:e.exportName,args:e.args,storyContext:e.storyContext})}),F(()=>{De({args:e.args,storyContext:e.storyContext})});var n=u(),s=f(n);I(s,()=>e.Stories,(o,a)=>{a(o,{})}),c(t,n),Y()}Z.__docgen={data:[{name:"Stories",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"exportName",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"args",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"storyContext",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1}],name:"StoryRenderer.svelte"};const{logger:Ke}=__STORYBOOK_MODULE_CLIENT_LOGGER__,Le=document.createDocumentFragment?()=>document.createDocumentFragment():()=>document.createElement("div"),Ge=(t,e)=>{const r={stories:new Map};try{const s=ge(W,{target:Le(),props:{Stories:t,repository:()=>r}});pe(s)}catch(s){Ke.error(`Error in mounting stories ${s.toString()}`,s)}const n={};for(const[s,o]of r.stories){const a={...o,render:(y,d)=>({Component:Z,props:{exportName:s,Stories:t,storyContext:d,args:y}})},i=e.play??o.play;i&&(a.play=y=>{var b;const d=(b=y.playFunction)==null?void 0:b.__play;return d?d(y):i(y)}),n[s]=a}return n};export{Ce as a,Ge as c,Be as d,We as s};
